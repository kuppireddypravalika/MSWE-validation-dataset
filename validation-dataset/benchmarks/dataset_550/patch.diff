From 78370a9759cee1f4ebcf547ba1ae6704e133d9df Mon Sep 17 00:00:00 2001
From: Eric Wong <normalperson@yhbt.net>
Date: Sat, 12 Apr 2008 10:27:57 +0000
Subject: [PATCH] main_notify: use pthread_cond_signal instead of broadcast

signal is all we need since we only have one waiter and
likely faster

git-svn-id: https://svn.musicpd.org/mpd/trunk@7349 09075e82-0dd4-0310-85a5-a0d7c8717e4f
---
 src/main_notify.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main_notify.c b/src/main_notify.c
index a358a7053b..1ecc11f3ad 100644
--- a/src/main_notify.c
+++ b/src/main_notify.c
@@ -96,7 +96,7 @@ static void wakeup_via_cond(void)
 
 	if (ret == EBUSY)
 		return; /* nope, no need to wakeup at all */
-	pthread_cond_broadcast(&main_wakeup);
+	pthread_cond_signal(&main_wakeup);
 	pthread_mutex_unlock(&main_wakeup_mutex);
 }
 
