From 4c8d0641521d7a48a27baf13aa29b23dce237d5d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Ole=20Andr=C3=A9=20Vadla=20Ravn=C3=A5s?= <oleavr@gmail.com>
Date: Sat, 3 Sep 2022 01:05:39 +0200
Subject: [PATCH] [snapshot] Do not verify the checksum

As we don't need it, and the added overhead becomes significant on large
snapshots.
---
 src/snapshot/mksnapshot.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/snapshot/mksnapshot.cc b/src/snapshot/mksnapshot.cc
index 885d99a286..6633be115b 100644
--- a/src/snapshot/mksnapshot.cc
+++ b/src/snapshot/mksnapshot.cc
@@ -87,7 +87,7 @@ class SnapshotFileWriter {
     fprintf(
         fp,
         "bool Snapshot::ShouldVerifyChecksum(const v8::StartupData* data) {\n");
-    fprintf(fp, "  return true;\n");
+    fprintf(fp, "  return false;\n");
     fprintf(fp, "}\n");
     fprintf(fp, "}  // namespace internal\n");
     fprintf(fp, "}  // namespace v8\n");
