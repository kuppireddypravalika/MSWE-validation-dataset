From 111445fde76b5811b2e59f8bcaf96317433c699e Mon Sep 17 00:00:00 2001
From: rodsan0 <rodsan0@users.noreply.github.com>
Date: Wed, 8 Jul 2020 03:26:58 -0400
Subject: [PATCH] Change implementastion of HashMetric to use murmur hash

---
 source/tools/matchbin_metrics.h | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/source/tools/matchbin_metrics.h b/source/tools/matchbin_metrics.h
index 79144095f6..f01e468bf1 100644
--- a/source/tools/matchbin_metrics.h
+++ b/source/tools/matchbin_metrics.h
@@ -97,9 +97,11 @@ namespace emp {
       std::hash<query_t> qhasher;
       std::hash<tag_t> thasher;
 
-      return static_cast<double>(emp::hash_combine(
-        qhasher(a),
-        thasher(b)
+      std::array<size_t, 2> input{qhasher(a), thasher(b)};
+
+      return static_cast<double>(emp::murmur_hash(
+        reinterpret_cast<std::byte*>(input.data()),
+        sizeof(size_t) * input.size()
       )) / (static_cast<double>(std::numeric_limits<size_t>::max()));
     }
 
