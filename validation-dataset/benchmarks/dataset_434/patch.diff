From f9abc561fbe864a7af10960ac0d5ac4112e5cc06 Mon Sep 17 00:00:00 2001
From: Max Kellermann <max@duempel.org>
Date: Fri, 19 Dec 2014 10:33:17 +0100
Subject: [PATCH] decoder/ffmpeg: remove unnecessary nullptr check for
 av_free()

---
 src/decoder/plugins/FfmpegDecoderPlugin.cxx | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/src/decoder/plugins/FfmpegDecoderPlugin.cxx b/src/decoder/plugins/FfmpegDecoderPlugin.cxx
index f78e67af32..6ddb16d1d6 100644
--- a/src/decoder/plugins/FfmpegDecoderPlugin.cxx
+++ b/src/decoder/plugins/FfmpegDecoderPlugin.cxx
@@ -100,8 +100,7 @@ struct AvioStream {
 		:decoder(_decoder), input(_input), io(nullptr) {}
 
 	~AvioStream() {
-		if (io != nullptr)
-			av_free(io);
+		av_free(io);
 	}
 
 	bool Open();
