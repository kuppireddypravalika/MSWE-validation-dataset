From 6558b7a025dbec8e5a8d141ab64cf3b4d6d15fc3 Mon Sep 17 00:00:00 2001
From: "K. S. Ernest (iFire) Lee" <ernest.lee@chibifire.com>
Date: Sun, 8 May 2022 14:43:00 -0700
Subject: [PATCH] Use constexpr to see if it's faster.

---
 ik_bone_chain.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/ik_bone_chain.cpp b/ik_bone_chain.cpp
index eedd97a..6c2dc9f 100644
--- a/ik_bone_chain.cpp
+++ b/ik_bone_chain.cpp
@@ -180,7 +180,8 @@ Quaternion IKBoneChain::set_quadrance_angle(Quaternion p_quat, real_t p_cos_half
 }
 
 Quaternion IKBoneChain::clamp_to_angle(Quaternion p_quat, real_t p_angle) const {
-	double cos_half_angle = Math::cos(0.5 * p_angle);
+	constexpr real_t angle = 0.5 * p_angle;
+	double cos_half_angle = Math::cos(angle);
 	return clamp_to_quadrance_angle(p_quat, cos_half_angle);
 }
 
