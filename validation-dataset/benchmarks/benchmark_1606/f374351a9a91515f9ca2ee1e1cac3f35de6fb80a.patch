From f374351a9a91515f9ca2ee1e1cac3f35de6fb80a Mon Sep 17 00:00:00 2001
From: Peter Vanroose <peter_vanroose@users.sourceforge.net>
Date: Sat, 19 Jun 2004 10:29:49 -0400
Subject: [PATCH] replaced D.transpose() * D with vnl_fastops::AtA(D)

---
 core/vnl/examples/vnl_planefit.cxx | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/core/vnl/examples/vnl_planefit.cxx b/core/vnl/examples/vnl_planefit.cxx
index 2b72c0f7db0..72efa8f1264 100644
--- a/core/vnl/examples/vnl_planefit.cxx
+++ b/core/vnl/examples/vnl_planefit.cxx
@@ -6,6 +6,7 @@
 //-----------------------------------------------------------------------------
 
 #include <vcl_iostream.h>
+#include <vnl/vnl_fastops.h>
 #include <vnl/algo/vnl_svd.h>
 #include <vnl/algo/vnl_symmetric_eigensystem.h>
 
@@ -33,7 +34,8 @@ int main()
 
   // 2. Compute using eigensystem of D'*D
   {
-    vnl_symmetric_eigensystem<double> eig(D.transpose() * D);
+    vnl_matrix<double> m; vnl_fastops::AtA(m,D);
+    vnl_symmetric_eigensystem<double> eig(m);
     vnl_vector<double> a = eig.get_eigenvector(0);
     vcl_cout << "Eig residual = " << (D * a).magnitude() << vcl_endl;
   }
