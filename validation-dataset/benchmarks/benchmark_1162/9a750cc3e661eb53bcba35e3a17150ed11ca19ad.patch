From 9a750cc3e661eb53bcba35e3a17150ed11ca19ad Mon Sep 17 00:00:00 2001
From: Luca Bertagna <lbertag@sandia.gov>
Date: Wed, 12 Dec 2018 11:05:57 -0700
Subject: [PATCH] Replacing typeid comparisong with std::is_same

---
 src/problems/Albany_HeatProblem.hpp | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/problems/Albany_HeatProblem.hpp b/src/problems/Albany_HeatProblem.hpp
index 12766ec375..7fe0e09046 100644
--- a/src/problems/Albany_HeatProblem.hpp
+++ b/src/problems/Albany_HeatProblem.hpp
@@ -275,8 +275,9 @@ Albany::HeatProblem::constructEvaluators(
     ev = evalUtils.constructGatherScalarNodalParameter(stateName,fieldName);
     fm0.template registerEvaluator<EvalT>(ev);
 
-    //Scalar Nodal parameter is stored as a ParamScalarT, while the residual evaluator expect a ScalarT, hence we need to convert the field into a ScalarT 
-    if(typeid(typename EvalT::ScalarT)!=typeid(typename EvalT::ParamScalarT)) {
+    // Scalar Nodal parameter is stored as a ParamScalarT, while the residual evaluator expect a ScalarT.
+    // Hence, if ScalarT!=ParamScalarT, we need to convert the field into a ScalarT 
+    if(!std::is_same<typename EvalT::ScalarT,typename EvalT::ParamScalarT>::value) {
       p->set<Teuchos::RCP<PHX::DataLayout> >("Data Layout", dl->node_scalar);
       p->set<std::string>("Field Name", fieldName);
       ev = Teuchos::rcp(new PHAL::ConvertFieldTypePSTtoST<EvalT,PHAL::AlbanyTraits>(*p));
