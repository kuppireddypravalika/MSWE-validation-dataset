From be34e68cb2349b21042ca697a3ed13360b80cbde Mon Sep 17 00:00:00 2001
From: philiplb <philip@philiplb.de>
Date: Tue, 30 Oct 2012 21:28:50 +0100
Subject: [PATCH] Volume Rendering: small optimization for generating the debug
 visualization of the dualgrid

---
 Components/Volume/src/OgreVolumeDualGridGenerator.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/Components/Volume/src/OgreVolumeDualGridGenerator.cpp b/Components/Volume/src/OgreVolumeDualGridGenerator.cpp
index d596a5a60b1..78e21be817f 100644
--- a/Components/Volume/src/OgreVolumeDualGridGenerator.cpp
+++ b/Components/Volume/src/OgreVolumeDualGridGenerator.cpp
@@ -505,6 +505,8 @@ namespace Volume {
             ManualObject* manual = sceneManager->createManualObject();
             manual->begin("BaseWhiteNoLighting", RenderOperation::OT_LINE_LIST);
             manual->colour((Real)0.0, (Real)1.0, (Real)0.0);
+            manual->estimateVertexCount(mDualCells.size() * 8);
+            manual->estimateIndexCount(mDualCells.size() * 24);
 
             size_t baseIndex = 0;
             for (VecDualCell::iterator it = mDualCells.begin(); it != mDualCells.end(); ++it)
