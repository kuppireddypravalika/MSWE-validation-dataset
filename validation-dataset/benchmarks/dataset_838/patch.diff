From 88584c56eafc26e993002a8f17f4e6769d71bb2e Mon Sep 17 00:00:00 2001
From: arhag <arhag@users.noreply.github.com>
Date: Mon, 30 Apr 2018 21:12:48 -0400
Subject: [PATCH] replace eager memory usage checks with a deferred check at
 the end of the transaction

---
 native.hpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/native.hpp b/native.hpp
index 1c09567aa..0855f7f22 100644
--- a/native.hpp
+++ b/native.hpp
@@ -56,7 +56,10 @@ namespace eosiosystem {
                               const authority& active,
                               const authority& recovery*/ ) {
          eosio::print( eosio::name{creator}, " created ", eosio::name{newact});
-         set_resource_limits( newact, 1000, 0, 0 );
+         set_resource_limits( newact, 3000, 0, 0 );
+         // TODO: The 3000 initial ram usage is a hack to get tests to work for now.
+         //       When we add support in the system contract to buy storage for another user, we will need to replace the
+         //       3000 with 0 and modify the tester to gift the necessary storage amount to all created accounts.
       }
 
       void updateauth( /*account_name     account,
