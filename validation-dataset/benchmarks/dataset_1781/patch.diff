From 7a87a22a7efb7ea7b2d36be85e6559dc87dd86bd Mon Sep 17 00:00:00 2001
From: "jueon.park" <bluegbgb@gmail.com>
Date: Wed, 8 Dec 2021 22:10:23 +0900
Subject: [PATCH] remove unnecessary copy-constructions in for loop

It was ok to copy callbacks
because callbacks were just function pointers
 when the code first written.
 But now, callbacks are objects
 so copy-construction of a callback are not always trivial.
---
 src/gpio_event.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/gpio_event.cpp b/src/gpio_event.cpp
index 46f0c3c..d0ef7f8 100644
--- a/src/gpio_event.cpp
+++ b/src/gpio_event.cpp
@@ -253,7 +253,7 @@ void _epoll_thread_loop()
 
                 // Fire event
                 geo->event_occurred = true;
-                for (auto cb : geo->callbacks) {
+                for (auto& cb : geo->callbacks) {
                     cb(geo->channel_id);
                 }
             }
