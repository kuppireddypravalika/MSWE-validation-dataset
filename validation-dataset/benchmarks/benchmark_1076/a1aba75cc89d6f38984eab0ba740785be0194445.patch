From a1aba75cc89d6f38984eab0ba740785be0194445 Mon Sep 17 00:00:00 2001
From: Jongsoo Park <jongsoo.park@gmail.com>
Date: Mon, 24 Oct 2016 23:15:17 -0700
Subject: [PATCH] omp parallelization of concat layer

---
 src/caffe/layers/concat_layer.cpp | 1 +
 1 file changed, 1 insertion(+)
 mode change 100644 => 100755 src/caffe/layers/concat_layer.cpp

diff --git a/src/caffe/layers/concat_layer.cpp b/src/caffe/layers/concat_layer.cpp
old mode 100644
new mode 100755
index 580bd4797..6c77cef58
--- a/src/caffe/layers/concat_layer.cpp
+++ b/src/caffe/layers/concat_layer.cpp
@@ -63,6 +63,7 @@ void ConcatLayer<Dtype>::Forward_cpu(const vector<Blob<Dtype>*>& bottom,
   for (int i = 0; i < bottom.size(); ++i) {
     const Dtype* bottom_data = bottom[i]->cpu_data();
     const int bottom_concat_axis = bottom[i]->shape(concat_axis_);
+#pragma omp parallel for
     for (int n = 0; n < num_concats_; ++n) {
       caffe_copy(bottom_concat_axis * concat_input_size_,
           bottom_data + n * bottom_concat_axis * concat_input_size_,
