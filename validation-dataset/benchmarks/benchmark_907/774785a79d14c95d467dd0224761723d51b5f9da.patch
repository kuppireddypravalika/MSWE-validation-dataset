From 774785a79d14c95d467dd0224761723d51b5f9da Mon Sep 17 00:00:00 2001
From: Chris Lattner <sabre@nondot.org>
Date: Sun, 3 Sep 2006 07:53:50 +0000
Subject: [PATCH] minor speedup

llvm-svn: 30065
---
 llvm/lib/CodeGen/LiveIntervalAnalysis.cpp | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/llvm/lib/CodeGen/LiveIntervalAnalysis.cpp b/llvm/lib/CodeGen/LiveIntervalAnalysis.cpp
index fc9015ee999..ba9bc9f8678 100644
--- a/llvm/lib/CodeGen/LiveIntervalAnalysis.cpp
+++ b/llvm/lib/CodeGen/LiveIntervalAnalysis.cpp
@@ -161,7 +161,7 @@ bool LiveIntervals::runOnMachineFunction(MachineFunction &fn) {
   numIntervalsAfter += getNumIntervals();
 
   // perform a final pass over the instructions and compute spill
-  // weights, coalesce virtual registers and remove identity moves
+  // weights, coalesce virtual registers and remove identity moves.
   const LoopInfo& loopInfo = getAnalysis<LoopInfo>();
 
   for (MachineFunction::iterator mbbi = mf_->begin(), mbbe = mf_->end();
@@ -182,8 +182,8 @@ bool LiveIntervals::runOnMachineFunction(MachineFunction &fn) {
         ++numPeep;
       }
       else {
-        for (unsigned i = 0; i < mii->getNumOperands(); ++i) {
-          const MachineOperand& mop = mii->getOperand(i);
+        for (unsigned i = 0, e = mii->getNumOperands(); i != e; ++i) {
+          const MachineOperand &mop = mii->getOperand(i);
           if (mop.isRegister() && mop.getReg() &&
               MRegisterInfo::isVirtualRegister(mop.getReg())) {
             // replace register with representative register
