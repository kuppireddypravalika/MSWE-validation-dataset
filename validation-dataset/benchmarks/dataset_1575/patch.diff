From a5e27204d54a501a43a069d3feea58d0b6bb1c0d Mon Sep 17 00:00:00 2001
From: thesupremecommander <thesupremecmdr@gmail.com>
Date: Sun, 19 Jul 2015 13:24:05 -0400
Subject: [PATCH] Store results directly in our target variables instead of
 copying them over and over again.

---
 src/modules/camerasmooths.cpp | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

diff --git a/src/modules/camerasmooths.cpp b/src/modules/camerasmooths.cpp
index 615d0cd..84cbc5a 100644
--- a/src/modules/camerasmooths.cpp
+++ b/src/modules/camerasmooths.cpp
@@ -173,17 +173,14 @@ bool CameraSmooths::SetupEngineViewOverride(Vector &origin, QAngle &angles, floa
 
 			moveVector *= movePercentage;
 
-			smoothLastOrigin += moveVector;
+			origin = smoothLastOrigin + moveVector;
 
-			smoothLastAngles.x = smoothLastAngles.x + ((angles.x - smoothLastAngles.x) * movePercentage);
-			smoothLastAngles.y = smoothLastAngles.y + ((angles.y - smoothLastAngles.y) * movePercentage);
-			smoothLastAngles.z = smoothLastAngles.z + ((angles.z - smoothLastAngles.z) * movePercentage);
+			angles.x = smoothLastAngles.x + ((angles.x - smoothLastAngles.x) * movePercentage);
+			angles.y = smoothLastAngles.y + ((angles.y - smoothLastAngles.y) * movePercentage);
+			angles.z = smoothLastAngles.z + ((angles.z - smoothLastAngles.z) * movePercentage);
 
-			Funcs::CallFunc_C_HLTVCamera_SetCameraAngle(hltvcamera, smoothLastAngles);
-			hltvcamera->m_vCamOrigin = smoothLastOrigin;
-
-			origin = smoothLastOrigin;
-			angles = smoothLastAngles;
+			Funcs::CallFunc_C_HLTVCamera_SetCameraAngle(hltvcamera, angles);
+			hltvcamera->m_vCamOrigin = origin;
 
 			smoothEnding = false;
 			smoothInProgress = true;
