From 1db9c3115b2217e8444855a76b84beea379c6534 Mon Sep 17 00:00:00 2001
From: Craig Topper <craig.topper@intel.com>
Date: Fri, 4 May 2018 01:04:26 +0000
Subject: [PATCH] [LoopIdiomRecognize] Use a regular array instead of a
 SmallVector and explicit ArrayRef.

---
 llvm/lib/Transforms/Scalar/LoopIdiomRecognize.cpp | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/llvm/lib/Transforms/Scalar/LoopIdiomRecognize.cpp b/llvm/lib/Transforms/Scalar/LoopIdiomRecognize.cpp
index 461c7a1ce980..b95d764d4d5d 100644
--- a/llvm/lib/Transforms/Scalar/LoopIdiomRecognize.cpp
+++ b/llvm/lib/Transforms/Scalar/LoopIdiomRecognize.cpp
@@ -1416,9 +1416,8 @@ bool LoopIdiomRecognize::recognizeAndInsertCTLZ() {
   //  br i1 %tobool
 
   IRBuilder<> Builder(PH->getTerminator());
-  SmallVector<const Value *, 2> Ops =
+  const Value *Args[] =
       {InitX, ZeroCheck ? Builder.getTrue() : Builder.getFalse()};
-  ArrayRef<const Value *> Args(Ops);
   if (CurLoop->getHeader()->size() != 6 &&
       TTI->getIntrinsicCost(Intrinsic::ctlz, InitX->getType(), Args) >
           TargetTransformInfo::TCC_Basic)
