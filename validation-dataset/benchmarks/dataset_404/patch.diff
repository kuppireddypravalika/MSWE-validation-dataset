From 651a5082e62df4878ba59cb42aff4f27a5ba4bda Mon Sep 17 00:00:00 2001
From: ldicker83 <leeor_net@yahoo.com>
Date: Mon, 22 Feb 2021 15:18:36 -0500
Subject: [PATCH] Select tile render color with a table lookup instead of a
 nest if/else chain

---
 OPHD/Map/TileMap.cpp | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

diff --git a/OPHD/Map/TileMap.cpp b/OPHD/Map/TileMap.cpp
index 948a97348..d09a0da5b 100644
--- a/OPHD/Map/TileMap.cpp
+++ b/OPHD/Map/TileMap.cpp
@@ -311,12 +311,10 @@ void TileMap::draw()
 				const auto position = mMapPosition + NAS2D::Vector{(col - row) * TILE_HALF_WIDTH, (col + row) * TILE_HEIGHT_HALF_ABSOLUTE};
 				const auto subImageRect = NAS2D::Rectangle{static_cast<int>(tile.index()) * TILE_WIDTH, tsetOffset, TILE_WIDTH, TILE_HEIGHT};
 				const bool isTileHighlighted = NAS2D::Vector{col, row} == highlightOffset;
-				const bool isConnectionHighlighted = mShowConnections && tile.connected();
-				const NAS2D::Color highlightColor =
-					isTileHighlighted ?
-						isConnectionHighlighted ? NAS2D::Color{71, 224, 146} : NAS2D::Color{125, 200, 255} :
-						isConnectionHighlighted ? NAS2D::Color::Green : NAS2D::Color::Normal;
-				renderer.drawSubImage(mTileset, position, subImageRect, highlightColor);
+
+				const NAS2D::Color tileColor = isTileHighlighted ? overlayHighlightColor(tile.overlay()) : overlayColor(tile.overlay());
+				
+				renderer.drawSubImage(mTileset, position, subImageRect, tileColor);
 
 				// Draw a beacon on an unoccupied tile with a mine
 				if (tile.mine() != nullptr && !tile.thing())
