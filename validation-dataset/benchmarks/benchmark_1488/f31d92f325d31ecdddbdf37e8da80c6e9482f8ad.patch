From f31d92f325d31ecdddbdf37e8da80c6e9482f8ad Mon Sep 17 00:00:00 2001
From: Roman Zavalov <japangod@yandex.ru>
Date: Tue, 27 Apr 2021 23:33:24 +0300
Subject: [PATCH] Removed invalid memory order for store operation.

---
 src/xrCore/Threading/TaskManager.cpp | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/src/xrCore/Threading/TaskManager.cpp b/src/xrCore/Threading/TaskManager.cpp
index 5d30e733852..728c55c9cd5 100644
--- a/src/xrCore/Threading/TaskManager.cpp
+++ b/src/xrCore/Threading/TaskManager.cpp
@@ -275,9 +275,7 @@ void TaskManager::WakeUpIfNeeded()
                 continue;
             if (worker->sleeps.load(std::memory_order_relaxed))
             {
-                // Acquire semantic guarantees that event won't be set
-                // earlier than steal_from will be assigned
-                worker->steal_from.store(steal_from, std::memory_order_acquire);
+                worker->steal_from.store(steal_from);
                 worker->event.Set();
                 break;
             }
