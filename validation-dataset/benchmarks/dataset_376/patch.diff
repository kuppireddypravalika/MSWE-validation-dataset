From fe23222d75b35de28b5bfee43b181703ecfe1d62 Mon Sep 17 00:00:00 2001
From: Ted John <ted@brambles.org>
Date: Sat, 21 May 2016 13:16:56 +0100
Subject: [PATCH] fix #3691: Swamp goo animates faster compared to RCT2

---
 src/paint/map_element/scenery.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/paint/map_element/scenery.c b/src/paint/map_element/scenery.c
index 0383045a1fb1..5ec963c58f90 100644
--- a/src/paint/map_element/scenery.c
+++ b/src/paint/map_element/scenery.c
@@ -188,7 +188,11 @@ void scenery_paint(uint8 direction, int height, rct_map_element* mapElement) {
 			} else
 			if (entry->small_scenery.flags & SMALL_SCENERY_FLAG15) {
 				// 6E02F6:
-				int image_id = ((gCurrentTicks + (RCT2_GLOBAL(0x9DE568, sint16) / 4) + (RCT2_GLOBAL(0x9DE56C, sint16) / 4) / 4) & 0xF) + entry->image;
+				int image_id = gCurrentTicks;
+				image_id += RCT2_GLOBAL(0x009DE568, sint16) / 4;
+				image_id += RCT2_GLOBAL(0x009DE56C, sint16) / 4;
+				image_id = (image_id / 4) & 15;
+				image_id += entry->image;
 				if (dword_F64EB0 != 0) {
 					image_id = (image_id & 0x7FFFF) | dword_F64EB0;
 				}
