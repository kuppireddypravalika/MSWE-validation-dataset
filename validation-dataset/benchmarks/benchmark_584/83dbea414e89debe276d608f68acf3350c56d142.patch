From 83dbea414e89debe276d608f68acf3350c56d142 Mon Sep 17 00:00:00 2001
From: Twan Koolen <tkoolen@csail.mit.edu>
Date: Fri, 10 Apr 2015 08:59:25 -0400
Subject: [PATCH] used mxGetNumberOfElements instead of product of sizes

---
 util/drakeUtil.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/util/drakeUtil.cpp b/util/drakeUtil.cpp
index c5f5fb6baf6b..96901266d544 100644
--- a/util/drakeUtil.cpp
+++ b/util/drakeUtil.cpp
@@ -213,7 +213,7 @@ const std::vector<double> matlabToStdVector(const mxArray* in) {
   if (mxGetM(in) != 1 && mxGetN(in) != 1)
     throw runtime_error("Not a vector");
   double* data = mxGetPrSafe(in);
-  return std::vector<double>(data, data + mxGetM(in) * mxGetN(in));
+  return std::vector<double>(data, data + mxGetNumberOfElements(in));
 }
 
 int sub2ind(mwSize ndims, const mwSize* dims, const mwSize* sub) {
