From 9eab496172fd3caa87d9ca1e37b25fb440c517b8 Mon Sep 17 00:00:00 2001
From: Damien Barker <damien.barker@quaternion.com>
Date: Wed, 6 Sep 2017 16:54:33 +0100
Subject: [PATCH] use stoi instead for strtol

---
 OREData/ored/marketdata/marketdatumparser.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/OREData/ored/marketdata/marketdatumparser.cpp b/OREData/ored/marketdata/marketdatumparser.cpp
index 097f60a45c..7363c7d88b 100644
--- a/OREData/ored/marketdata/marketdatumparser.cpp
+++ b/OREData/ored/marketdata/marketdatumparser.cpp
@@ -191,8 +191,8 @@ boost::shared_ptr<MarketDatum> parseMarketDatum(const Date& asof, const string&
         QL_REQUIRE(imm1.size() == 1, "IMM date string must be 1 characters long, [1-9][A-F]");
         QL_REQUIRE(imm2.size() == 1, "IMM date string must be 1 characters long, [1-9][A-F]");
 
-        unsigned int m1 = std::strtol(imm1.c_str(), NULL, 16);
-        unsigned int m2 = std::strtol(imm2.c_str(), NULL, 16);
+        unsigned int m1 = std::stoi(imm1.c_str(), NULL, 16);
+        unsigned int m2 = std::stoi(imm2.c_str(), NULL, 16);
         return boost::make_shared<ImmFraQuote>(value, asof, datumName, quoteType, ccy, m1, m2);
     }
 
