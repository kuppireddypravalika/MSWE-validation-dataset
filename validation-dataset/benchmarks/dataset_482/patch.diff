From e1fb987c12e62c1bd94824046d2af2bbd252e9ad Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=CE=B6eh=20Matt?= <5415177+ZehMatt@users.noreply.github.com>
Date: Thu, 14 Oct 2021 16:32:05 +0300
Subject: [PATCH] Replace loop with count_if

---
 src/openrct2/world/Park.cpp | 14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

diff --git a/src/openrct2/world/Park.cpp b/src/openrct2/world/Park.cpp
index 709269153cd6..ddcec0d23558 100644
--- a/src/openrct2/world/Park.cpp
+++ b/src/openrct2/world/Park.cpp
@@ -463,17 +463,11 @@ int32_t Park::CalculateParkRating() const
 
     // Litter
     {
-        int32_t litterCount = 0;
-        for (auto* litter : EntityList<Litter>())
-        {
-            if (litter->GetAge() < 7680)
-            {
-                // Ignore recently dropped litter.
-                continue;
-            }
+        // Counts the amount of litter whose age is min. 7680 ticks (5~ min) old.
+        const auto litterList = EntityList<Litter>();
+        const auto litterCount = std::count_if(
+            litterList.begin(), litterList.end(), [](auto* litter) { return litter->GetAge() >= 7680; });
 
-            litterCount++;
-        }
         result -= 600 - (4 * (150 - std::min<int32_t>(150, litterCount)));
     }
 
