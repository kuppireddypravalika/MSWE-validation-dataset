From 9a5504bb4733384763a648222f39c636c73dd541 Mon Sep 17 00:00:00 2001
From: sehraf <sehraf42@gmail.com>
Date: Thu, 21 May 2020 10:17:13 +0200
Subject: [PATCH] autoproxy: make async really async

---
 libretroshare/src/services/autoproxy/rsautoproxymonitor.cc | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/libretroshare/src/services/autoproxy/rsautoproxymonitor.cc b/libretroshare/src/services/autoproxy/rsautoproxymonitor.cc
index 263663a4e7..62b47dfea1 100644
--- a/libretroshare/src/services/autoproxy/rsautoproxymonitor.cc
+++ b/libretroshare/src/services/autoproxy/rsautoproxymonitor.cc
@@ -174,7 +174,11 @@ void rsAutoProxyMonitor::task(taskTicket *ticket)
 			*tt = *ticket;
 			tt->types.clear();
 			tt->types.push_back(*it);
-			s->processTaskAsync(tt);
+
+			// it's async!
+			RsThread::async([s, tt] {
+				s->processTaskAsync(tt);
+			});
 		} else {
 			s->processTaskSync(ticket);
 		}
