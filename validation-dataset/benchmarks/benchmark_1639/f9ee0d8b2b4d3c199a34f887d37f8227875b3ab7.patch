From f9ee0d8b2b4d3c199a34f887d37f8227875b3ab7 Mon Sep 17 00:00:00 2001
From: "J.W. Jagersma" <jwjagersma@gmail.com>
Date: Sat, 22 Jun 2019 18:30:17 +0200
Subject: [PATCH] use attribute [[unlikely]] instead of __builtin_expect()

---
 include/jw/audio/midi.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/include/jw/audio/midi.h b/include/jw/audio/midi.h
index 9ada9634..360331df 100644
--- a/include/jw/audio/midi.h
+++ b/include/jw/audio/midi.h
@@ -127,7 +127,7 @@ namespace jw::audio
         static void* get_pword(int i, S& stream, L& list)
         {
             void*& p = stream.pword(i);
-            if (__builtin_expect(p == nullptr, false))
+            if (p == nullptr) [[unlikely]]
                 p = &list.emplace_back();
             return p;
         }
