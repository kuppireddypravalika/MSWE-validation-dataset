From 0bfb59a0d5a59ba6ddf1c19e39fc7ea369123685 Mon Sep 17 00:00:00 2001
From: Jan Friso Groote <j.f.groote@tue.nl>
Date: Wed, 28 May 2014 09:48:15 +0000
Subject: [PATCH] Applied variable ordering of the variables in summands that
 are enumerated (see the previous commit) to the generation of state spaces.
 State space generation for 1394-fin.mcrl2 drops from 36 to 24 seconds when
 doing so.

git-svn-id: https://svn.win.tue.nl/repos/MCRL2/trunk@12775 21252fe5-60e8-0310-8ff0-c1ae1001594e
---
 libraries/lps/source/next_state_generator.cpp | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/libraries/lps/source/next_state_generator.cpp b/libraries/lps/source/next_state_generator.cpp
index 3f6ee6733f..bd6f777cff 100644
--- a/libraries/lps/source/next_state_generator.cpp
+++ b/libraries/lps/source/next_state_generator.cpp
@@ -39,10 +39,10 @@ next_state_generator::next_state_generator(
   {
     summand_t summand;
     summand.summand = &(*i);
-    summand.variables = i->summation_variables();
+    summand.variables =  order_variables_to_optimise_enumeration(i->summation_variables(),spec.data());
     summand.condition = i->condition();
     summand.result_state = get_internal_state(i->next_state(m_specification.process().process_parameters()));
-
+    
     for (auto j = i->multi_action().actions().begin(); j != i->multi_action().actions().end(); j++)
     {
       action_internal_t action_label;
@@ -54,7 +54,7 @@ next_state_generator::next_state_generator(
       }
 
       summand.action_label.push_back(action_label);
-    }
+    } 
 
     for (size_t j = 0; j < m_process_parameters.size(); j++)
     {
