From 731c084fe88f138b4c3beed0f6c64c3984f70f71 Mon Sep 17 00:00:00 2001
From: Andrey Kiselev <dron@ak4719.spb.edu>
Date: Fri, 20 Apr 2007 17:04:00 +0000
Subject: [PATCH] Use local constant for pi value instead of M_PI.

git-svn-id: https://svn.osgeo.org/gdal/trunk@11309 f0d54148-0727-0410-94bb-9a71ac55c965
---
 gdal/alg/gdalwarpkernel.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/gdal/alg/gdalwarpkernel.cpp b/gdal/alg/gdalwarpkernel.cpp
index 3a85645aab53..80db5b213979 100644
--- a/gdal/alg/gdalwarpkernel.cpp
+++ b/gdal/alg/gdalwarpkernel.cpp
@@ -1679,6 +1679,7 @@ static int GWKCubicSplineResampleNoMasksShort( GDALWarpKernel *poWK, int iBand,
  *
  * where sinc(x) = sin(PI * x) / (PI * x).
  */
+#define GWK_PI 3.14159265358979323846
 static double LanczosSinc( double dfX, double dfR )
 {
   if ( fabs(dfX) > dfR )
@@ -1686,9 +1687,10 @@ static double LanczosSinc( double dfX, double dfR )
   if ( dfX == 0.0 )
       return 1.0;
 
-  double dfPIX = M_PI * dfX;
+  double dfPIX = GWK_PI * dfX;
   return ( sin(dfPIX) / dfPIX ) * ( sin(dfPIX / dfR) * dfR / dfPIX );
 }
+#undef GWK_PI
 
 static int GWKLanczosResample( GDALWarpKernel *poWK, int iBand, 
                                double dfSrcX, double dfSrcY,
