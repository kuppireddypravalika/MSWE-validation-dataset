From baacc49508d2bc1c716a2451ee4416c108cd9ed7 Mon Sep 17 00:00:00 2001
From: Laurent Ribon <laurent.ribon@gmail.com>
Date: Wed, 2 May 2012 15:28:05 +0200
Subject: [PATCH] msvc compatibility : replace round function with value >= 0.0
 ? floor(value + 0.5) : ceil(value - 0.5)

---
 maths/glc_geomtools.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/maths/glc_geomtools.cpp b/maths/glc_geomtools.cpp
index e000a800..275a306b 100644
--- a/maths/glc_geomtools.cpp
+++ b/maths/glc_geomtools.cpp
@@ -588,7 +588,7 @@ bool glc::compare(const QPointF& v1, const QPointF& v2)
 double glc::round(double value)
 {
 	value= value / comparedPrecision;
-	value= ::round(value);
+	value= (value >= 0.0 ? floor(value + 0.5) : ceil(value - 0.5));
 	value= value * comparedPrecision;
 	return value;
 }
