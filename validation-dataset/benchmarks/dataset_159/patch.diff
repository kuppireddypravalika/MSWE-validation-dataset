From 4605340f8d71eea9440c400dd208d3647cd714d5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Peter=20Z=C3=BCger?= <zueger.peter@icloud.com>
Date: Wed, 18 Sep 2019 21:40:49 +0200
Subject: [PATCH] use std::getline(input, str, delim)

std::getline() can read a string up to a delimiter directly
no need to read 100 bytes and clip manually
---
 libqalculate/Calculator.cc | 10 ++--------
 1 file changed, 2 insertions(+), 8 deletions(-)

diff --git a/libqalculate/Calculator.cc b/libqalculate/Calculator.cc
index a7605919..e7fb8154 100644
--- a/libqalculate/Calculator.cc
+++ b/libqalculate/Calculator.cc
@@ -1720,14 +1720,8 @@ class UptimeVariable : public DynamicVariable {
 #	ifdef __linux__
 		std::ifstream proc_uptime("/proc/uptime", std::ios::in);
 		if(proc_uptime.is_open()) {
-			char s_uptime[100];
-			proc_uptime.getline(s_uptime, 100);
-			for(size_t i = 0; i < 100; i++) {
-				if(s_uptime[i] == ' ') {
-					s_uptime[i] = (char) 0;
-					break;
-				}
-			}
+			string s_uptime;
+			getline(proc_uptime, s_uptime, ' ');
 			nr.set(s_uptime);
 		} else {
 			struct sysinfo sf;
