From f62324c8a6a4a82f78f13ff83503132b68209212 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Beat=20K=C3=BCng?= <beat-kueng@gmx.net>
Date: Thu, 21 Apr 2016 10:16:17 +0200
Subject: [PATCH] mavlink_receiver.cpp: use sizeof(gps_inject_data_topic.data)
 instead of hardcoded size

---
 src/modules/mavlink/mavlink_receiver.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/modules/mavlink/mavlink_receiver.cpp b/src/modules/mavlink/mavlink_receiver.cpp
index ca464356db68..b09dda32f18e 100644
--- a/src/modules/mavlink/mavlink_receiver.cpp
+++ b/src/modules/mavlink/mavlink_receiver.cpp
@@ -1772,7 +1772,7 @@ void MavlinkReceiver::handle_message_gps_inject_data(mavlink_message_t *msg)
 
 	gps_inject_data_topic.len = gps_inject_data_msg.len;
 	memcpy(gps_inject_data_topic.data, gps_inject_data_msg.data,
-	       sizeof(uint8_t) * math::min((uint8_t)110, gps_inject_data_msg.len));
+	       math::min((int)sizeof(gps_inject_data_topic.data), (int)sizeof(uint8_t) * gps_inject_data_msg.len));
 
 	orb_advert_t &pub = _gps_inject_data_pub[_gps_inject_data_next_idx];
 
