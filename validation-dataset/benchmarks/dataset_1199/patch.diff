From 886e2aa736af81479edd36c2527ae93a412b9be5 Mon Sep 17 00:00:00 2001
From: Daniel Stevens <Dan.R.Stevens@gmail.com>
Date: Mon, 20 Jul 2020 10:29:37 -0600
Subject: [PATCH] Replace double static_cast with std::floor

---
 OPHD/UI/Core/ListBox.cpp | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/OPHD/UI/Core/ListBox.cpp b/OPHD/UI/Core/ListBox.cpp
index e1d2f9b8e..0c9c49ce1 100644
--- a/OPHD/UI/Core/ListBox.cpp
+++ b/OPHD/UI/Core/ListBox.cpp
@@ -12,6 +12,7 @@
 #include <NAS2D/MathUtils.h>
 
 #include <algorithm>
+#include <cmath>
 
 
 using namespace NAS2D;
@@ -332,9 +333,9 @@ void ListBox::slideChanged(float newPosition)
 {
 	_updateItemDisplay();
 	// Intentional truncation of fractional value
-	int pos = static_cast<int>(newPosition);
-	if (static_cast<float>(pos) != newPosition)
+	const auto pos = std::floor(newPosition);
+	if (pos != newPosition)
 	{
-		mSlider.thumbPosition(static_cast<float>(pos));
+		mSlider.thumbPosition(pos);
 	}
 }
