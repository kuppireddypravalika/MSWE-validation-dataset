From 15d5fcea7f1deeb93adad3ac8e77a9d952fdccae Mon Sep 17 00:00:00 2001
From: Giles Bathgate <gilesbathgate@gmail.com>
Date: Wed, 15 Jun 2011 20:21:01 +0100
Subject: [PATCH] Small optimisation in bezier_surface module.

---
 src/module/beziersurfacemodule.cpp | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/src/module/beziersurfacemodule.cpp b/src/module/beziersurfacemodule.cpp
index 391eb3ed4..ba0d49619 100644
--- a/src/module/beziersurfacemodule.cpp
+++ b/src/module/beziersurfacemodule.cpp
@@ -47,9 +47,10 @@ double BezierSurfaceModule::bez33(double u)
 
 Point BezierSurfaceModule::pointOnBez(Points cps, double u)
 {
-	double x=bez03(u)*cps[0].getX()+bez13(u)*cps[1].getX()+bez23(u)*cps[2].getX()+bez33(u)*cps[3].getX();
-	double y=bez03(u)*cps[0].getY()+bez13(u)*cps[1].getY()+bez23(u)*cps[2].getY()+bez33(u)*cps[3].getY();
-	double z=bez03(u)*cps[0].getZ()+bez13(u)*cps[1].getZ()+bez23(u)*cps[2].getZ()+bez33(u)*cps[3].getZ();
+	double a=bez03(u),b=bez13(u),c=bez23(u),d=bez33(u);
+	double x=a*cps[0].getX()+b*cps[1].getX()+c*cps[2].getX()+d*cps[3].getX();
+	double y=a*cps[0].getY()+b*cps[1].getY()+c*cps[2].getY()+d*cps[3].getY();
+	double z=a*cps[0].getZ()+b*cps[1].getZ()+c*cps[2].getZ()+d*cps[3].getZ();
 
 	return Point(x,y,z);
 }
