From 4e69db783c6e5ad2a3b68fdf1df123bc84d6daa8 Mon Sep 17 00:00:00 2001
From: Frank Warmerdam <warmerdam@pobox.com>
Date: Mon, 18 Dec 2006 03:49:24 +0000
Subject: [PATCH] Avoid really big memory leak in readblock.

git-svn-id: https://svn.osgeo.org/gdal/trunk@10511 f0d54148-0727-0410-94bb-9a71ac55c965
---
 frmts/ilwis/ilwisdataset.cpp | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/frmts/ilwis/ilwisdataset.cpp b/frmts/ilwis/ilwisdataset.cpp
index cf9b9b1345de..2b0de2b526b6 100644
--- a/frmts/ilwis/ilwisdataset.cpp
+++ b/frmts/ilwis/ilwisdataset.cpp
@@ -27,6 +27,9 @@
  ******************************************************************************
  *
  * $Log$
+ * Revision 1.17  2006/12/18 03:49:24  fwarmerdam
+ * Avoid really big memory leak in readblock.
+ *
  * Revision 1.16  2006/11/22 18:20:00  fwarmerdam
  * apply std:: prefix to exception to build on sun compiler
  *
@@ -1490,6 +1493,9 @@ CPLErr ILWISRasterBand::IReadBlock( int nBlockXOff, int nBlockYOff,
             ((double *) pImage)[i] = ((double *) pBuffer)[i];
         break;
     }
+
+    CPLFree( pBuffer );
+
     return CE_None;
 }
 
