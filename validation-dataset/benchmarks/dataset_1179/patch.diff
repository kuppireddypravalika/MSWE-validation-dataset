From 9f1c2db5adc74cfac194772448c07d1f64f1a1cd Mon Sep 17 00:00:00 2001
From: Daniel Stevens <Dan.R.Stevens@gmail.com>
Date: Tue, 7 Apr 2020 14:17:59 -0600
Subject: [PATCH] Use packed parameter methods when drawing list items

Use delta calculation to avoid multiplication in loop.
---
 OPHD/UI/Core/ListBox.cpp | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/OPHD/UI/Core/ListBox.cpp b/OPHD/UI/Core/ListBox.cpp
index 4cbd88af1..f7a775c68 100644
--- a/OPHD/UI/Core/ListBox.cpp
+++ b/OPHD/UI/Core/ListBox.cpp
@@ -296,17 +296,19 @@ void ListBox::update()
 	}
 	
 	// display actuals values that are meant to be
+	auto textPosition = listBounds.startPoint();
+	textPosition.y() -= mCurrentOffset;
 	for(std::size_t i = 0; i < mItems.size(); i++)
 	{
-		int itemY = rect().y() + (i * mLineHeight) - mCurrentOffset;
 		if (i == mCurrentHighlight)
 		{
-			r.drawTextShadow(*LST_FONT, mItems[i].Text, rect().x(), itemY, 1, mHighlightText.red(), mHighlightText.green(), mHighlightText.blue(), 0, 0, 0);
+			r.drawTextShadow(*LST_FONT, mItems[i].Text, textPosition, {1, 1}, mHighlightText, NAS2D::Color::Black);
 		}
 		else
 		{
-			r.drawTextShadow(*LST_FONT, mItems[i].Text, rect().x(), itemY, 1, mText.red(), mText.green(), mText.blue(), 0, 0, 0);
+			r.drawTextShadow(*LST_FONT, mItems[i].Text, textPosition, {1, 1}, mText, NAS2D::Color::Black);
 		}
+		textPosition.y() += mLineHeight;
 	}
 
 	mSlider.update();		// Shouldn't need this since it's in a UIContainer. Noticing that Slider
