From ebc0f05927c40f252a348ace2c8ed4a30bdbdf08 Mon Sep 17 00:00:00 2001
From: Razakhel <romain.milbert@gmail.com>
Date: Sat, 14 Sep 2024 09:53:31 +0200
Subject: [PATCH] [Data/BoundingVolumeHierarchy] Removed hit on a node's AABB
 intersection

- Not only can it be filled with irrelevant data under certain circumstances, but it is even plain useless for the rest of the algorithm, as we don't ever use whatever value it may contain

- This change alone allows for a whopping ~50% speedup
---
 src/RaZ/Data/BoundingVolumeHierarchy.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/RaZ/Data/BoundingVolumeHierarchy.cpp b/src/RaZ/Data/BoundingVolumeHierarchy.cpp
index 70385fdf..c8b2ee03 100644
--- a/src/RaZ/Data/BoundingVolumeHierarchy.cpp
+++ b/src/RaZ/Data/BoundingVolumeHierarchy.cpp
@@ -29,7 +29,7 @@ Entity* BoundingVolumeHierarchyNode::query(const Ray& ray, RayHit* hit) const {
     return nullptr;
   }
 
-  if (!ray.intersects(m_boundingBox, hit))
+  if (!ray.intersects(m_boundingBox))
     return nullptr;
 
   RayHit leftHit;
