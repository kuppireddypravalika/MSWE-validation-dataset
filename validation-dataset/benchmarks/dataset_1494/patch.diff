From 6a4af554cd15788f25b591a0e93eb0aa66abc602 Mon Sep 17 00:00:00 2001
From: "bernard.parisse" <bernard.parisse@23ce0884-8a58-47d3-bc5c-ddf1cd5b9f9e>
Date: Fri, 28 Sep 2018 15:10:22 +0000
Subject: [PATCH] [giac] attempt to improve integrate(surd(2*x^3,5),x)

git-svn-id: https://dev.geogebra.org/svn/trunk/geogebra/giac@64612 23ce0884-8a58-47d3-bc5c-ddf1cd5b9f9e
---
 src/giac/cpp/intg.cc | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/src/giac/cpp/intg.cc b/src/giac/cpp/intg.cc
index 225b6080..acef72d6 100644
--- a/src/giac/cpp/intg.cc
+++ b/src/giac/cpp/intg.cc
@@ -2474,6 +2474,16 @@ namespace giac {
 	v=v2;
 	rvarsize=int(v2.size());
       }
+      if (rvarsize==2){
+	e2=simplifier(e,contextptr);
+	v2.clear();
+	v2.push_back(gen_x);
+	rlvarx(e2,gen_x,v2);
+	if (v2.size()==1 || (v2.size()==2 && taille(v2[1],100)<taille(v[1],100))){
+	  e=e2;
+	  v=v2;
+	}
+      }
     }
     vecteur rvar=v;
     gen fu,fx;
