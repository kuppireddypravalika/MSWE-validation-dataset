From 843d6dd4c83692f1360e83f4f190b65658564898 Mon Sep 17 00:00:00 2001
From: Sven Woop <sven.woop@intel.com>
Date: Tue, 5 Sep 2017 09:32:30 +0200
Subject: [PATCH] better array size in foreach2

---
 common/simd/simd.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/common/simd/simd.h b/common/simd/simd.h
index 3b356b4dc..0dcbcb329 100644
--- a/common/simd/simd.h
+++ b/common/simd/simd.h
@@ -74,8 +74,8 @@ namespace embree
   template<typename Closure>
     __forceinline void foreach2(int x0, int x1, int y0, int y1, const Closure& closure) 
   {
-    __aligned(64) int U[128];
-    __aligned(64) int V[128];
+    __aligned(64) int U[2*VSIZEX];
+    __aligned(64) int V[2*VSIZEX];
     int index = 0;
     for (int y=y0; y<y1; y++) {
       const bool lasty = y+1>=y1;
