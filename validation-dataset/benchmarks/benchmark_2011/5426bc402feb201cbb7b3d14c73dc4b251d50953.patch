From 5426bc402feb201cbb7b3d14c73dc4b251d50953 Mon Sep 17 00:00:00 2001
From: "Wen-Heng (Jack) Chung" <whchung@gmail.com>
Date: Fri, 27 Jan 2017 10:11:18 +0800
Subject: [PATCH] [SDK] use static_cast<> over C-style cast

This commit allows correct load instructions be produced.
---
 include/kalmar_index.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/include/kalmar_index.h b/include/kalmar_index.h
index c5ef82bb9c7..8d65579b91f 100644
--- a/include/kalmar_index.h
+++ b/include/kalmar_index.h
@@ -96,7 +96,7 @@ struct index_impl<__indices<N...> > : public __index_leaf<N>...  {
         return static_cast<const __index_leaf<0>&>(*((__index_leaf<0> *)this + c)).get();
     }
     int& operator[] (unsigned int c) restrict(amp,cpu) {
-        return static_cast<__index_leaf<0>&>(*((__index_leaf<0> *)this + c)).get();
+        return static_cast<__index_leaf<0>&>(static_cast<__index_leaf<0> *>(this)[c]).get();
     }
     index_impl& operator=(const index_impl& __t) restrict(amp,cpu) {
         __swallow(__index_leaf<N>::operator=(static_cast<const __index_leaf<N>&>(__t).get())...);
