From 1194998ce949c5a98431103dd90e3f71271ee70f Mon Sep 17 00:00:00 2001
From: Max Kellermann <max@musicpd.org>
Date: Sat, 30 Dec 2017 17:43:23 +0100
Subject: [PATCH] CrossFade: use sizeof(MusicChunk::data) instead of CHUNK_SIZE

---
 src/player/CrossFade.cxx | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/player/CrossFade.cxx b/src/player/CrossFade.cxx
index 3db5932c06..903adf4101 100644
--- a/src/player/CrossFade.cxx
+++ b/src/player/CrossFade.cxx
@@ -105,7 +105,7 @@ CrossFadeSettings::Calculate(SignedSongTime total_time,
 	assert(duration >= 0);
 	assert(af.IsValid());
 
-	chunks_f = (float)af.GetTimeToSize() / (float)CHUNK_SIZE;
+	chunks_f = (float)af.GetTimeToSize() / (float)sizeof(MusicChunk::data);
 
 	if (mixramp_delay <= 0 || !mixramp_start || !mixramp_prev_end) {
 		chunks = (chunks_f * duration + 0.5);
