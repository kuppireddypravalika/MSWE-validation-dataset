From 22595fb2da8a55d50b357b85086e79a849c1ab15 Mon Sep 17 00:00:00 2001
From: Florian Echtler <floe@butterbrot.org>
Date: Sat, 4 Jun 2022 09:47:07 +0200
Subject: [PATCH] prefer YUYV format for lower CPU load

---
 src/V4L2.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/V4L2.cpp b/src/V4L2.cpp
index ca4faf6..96fe38d 100644
--- a/src/V4L2.cpp
+++ b/src/V4L2.cpp
@@ -13,7 +13,7 @@ V4L2::V4L2(const char* pipe, const char* dev, int cw, int ch):
   cap.set(cv::CAP_PROP_FRAME_WIDTH,cw);
   cap.set(cv::CAP_PROP_FRAME_HEIGHT,ch);
   cap.set(cv::CAP_PROP_FPS,15); // FIXME: hardcoded FPS
-  cap.set(cv::CAP_PROP_FOURCC,cv::VideoWriter::fourcc('M','J','P','G'));
+  cap.set(cv::CAP_PROP_FOURCC,cv::VideoWriter::fourcc('Y','U','Y','V'));
 }
 
 void V4L2::retrieve_frames() {
