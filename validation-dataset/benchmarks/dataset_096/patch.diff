From 1b398b862d7ca0e43ae486b069836db2bc08af44 Mon Sep 17 00:00:00 2001
From: Ravbug <ravbug@noreply.users.github.com>
Date: Fri, 5 Jan 2024 14:56:38 -0800
Subject: [PATCH] Don't allocate shadowmaps in server mode

---
 src/Light.cpp | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/src/Light.cpp b/src/Light.cpp
index d45639d9f..3f85b884c 100644
--- a/src/Light.cpp
+++ b/src/Light.cpp
@@ -5,7 +5,9 @@
 #include "Entity.hpp"
 #include "Transform.hpp"
 #include "App.hpp"
+#if !RVE_SERVER
 #include <RGL/Texture.hpp>
+#endif
 
 using namespace RavEngine;
 using namespace std;
@@ -49,6 +51,7 @@ void SpotLight::AddInstanceData(float* offset) const{
 
 RavEngine::ShadowLight::ShadowLight()
 {
+#if !RVE_SERVER
 	constexpr static auto dim = 4096;
 	shadowData.pyramid = {dim};
 
@@ -62,4 +65,5 @@ RavEngine::ShadowLight::ShadowLight()
 		.format = RGL::TextureFormat::D32SFloat,
 		.debugName = "Shadow Texture"
 	});
+#endif
 }
