From 6b86fb94d55f6740f4de3fed2c4f3b75b16720f4 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Markus=20B=C3=BCrg?= <mb@plaxis.com>
Date: Tue, 21 Mar 2017 15:32:05 +0000
Subject: [PATCH] Do not expand bounding box due to performance penalty.

---
 src/getfem_interpolation_on_deformed_domains.cc | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/src/getfem_interpolation_on_deformed_domains.cc b/src/getfem_interpolation_on_deformed_domains.cc
index 2ad7ce656..04473a256 100644
--- a/src/getfem_interpolation_on_deformed_domains.cc
+++ b/src/getfem_interpolation_on_deformed_domains.cc
@@ -153,12 +153,6 @@ class  interpolate_transformation_on_deformed_domains
         }
       }
 
-      // Safety coefficient of 1.3 (for nonlinear transformations)
-      // Expanding the box by 15% of the largest edge in every direction
-      auto h = bmax[0] - bmin[0];
-      for (size_type k = 1; k < N; ++k) h = std::max(h, bmax[k] - bmin[k]);
-      for (size_type k = 0; k < N; ++k) {bmin[k] -= h * 0.15; bmax[k] += h * 0.15;}
-
       // Store the bounding box and additional information.
       element_boxes.add_box(bmin, bmax, box_to_convex.size());
       box_to_convex.push_back(cv);
