From 50269bf74543d24b05029acb672321447b0c7acf Mon Sep 17 00:00:00 2001
From: Mikko Vanhatalo <mikko.vanhatalo@fmi.fi>
Date: Tue, 7 Mar 2017 09:08:53 +0200
Subject: [PATCH] cache: change to O(log n) method to check whether an element
 exists

---
 himan-plugins/source/cache.cpp | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

diff --git a/himan-plugins/source/cache.cpp b/himan-plugins/source/cache.cpp
index 23a8897df..caa0a7804 100644
--- a/himan-plugins/source/cache.cpp
+++ b/himan-plugins/source/cache.cpp
@@ -152,15 +152,7 @@ cache_pool* cache_pool::Instance()
 void cache_pool::CacheLimit(int theCacheLimit) { itsCacheLimit = theCacheLimit; }
 bool cache_pool::Find(const string& uniqueName)
 {
-	for (const auto& kv : itsCache)
-	{
-		if (kv.first == uniqueName)
-		{
-			return true;
-		}
-	}
-
-	return false;
+	return itsCache.count(uniqueName) > 0;
 }
 
 void cache_pool::Insert(const string& uniqueName, shared_ptr<himan::info> anInfo, bool pin)
