From a05101a80c2c871c3e8c4609a6c4045d92326d85 Mon Sep 17 00:00:00 2001
From: "Marcus D. Hanwell" <marcus.hanwell@kitware.com>
Date: Sun, 9 Jul 2017 14:15:14 -0400
Subject: [PATCH] Move to vtkNew to avoid manual memory management

---
 tomviz/Histogram2DWidget.cxx | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/tomviz/Histogram2DWidget.cxx b/tomviz/Histogram2DWidget.cxx
index a8d47a36a..02d7d9491 100644
--- a/tomviz/Histogram2DWidget.cxx
+++ b/tomviz/Histogram2DWidget.cxx
@@ -91,14 +91,13 @@ void Histogram2DWidget::setHistogram(vtkImageData* histogram)
   // A minimum of 1.0 is used in order to clip off histogram bins with a
   // single occurrence. This is also necessary to enable Log10 scale (required
   // to have min > 0)
-  vtkColorTransferFunction* transferFunction = vtkColorTransferFunction::New();
+  vtkNew<vtkColorTransferFunction> transferFunction;
   transferFunction->AddRGBSegment(range[0] + 1.0, 0.0, 0.0, 0.0, range[1], 1.0,
                                   1.0, 1.0);
 
   transferFunction->SetScaleToLog10();
   transferFunction->Build();
-  m_chartHistogram2D->SetTransferFunction(transferFunction);
-  transferFunction->Delete();
+  m_chartHistogram2D->SetTransferFunction(transferFunction.Get());
 
   m_histogramView->Render();
 }
