From 7b47f998adc9b01c0acea634033309ca6783eca8 Mon Sep 17 00:00:00 2001
From: James Yonan <james@openvpn.net>
Date: Sat, 23 Sep 2017 13:37:31 -0600
Subject: [PATCH] compress: since parse_method() performs a linear search on
 method, reorder so that more frequently used methods appear at the top of the
 list.

Signed-off-by: James Yonan <james@openvpn.net>
---
 openvpn/compress/compress.hpp | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

diff --git a/openvpn/compress/compress.hpp b/openvpn/compress/compress.hpp
index 4e7643f60..60ae7ae7c 100644
--- a/openvpn/compress/compress.hpp
+++ b/openvpn/compress/compress.hpp
@@ -452,22 +452,22 @@ namespace openvpn {
 
     static Type parse_method(const std::string& method)
     {
-      if (method == "lzo")
+      if (method == "stub-v2")
+	return COMP_STUBv2;
+      else if (method == "lz4-v2")
+	return LZ4v2;
+      else if (method == "lz4")
+	return LZ4;
+      else if (method == "lzo")
 	return LZO;
       else if (method == "lzo-swap")
 	return LZO_SWAP;
       else if (method == "lzo-stub")
 	return LZO_STUB;
-      else if (method == "lz4")
-	return LZ4;
-      else if (method == "lz4-v2")
-	return LZ4v2;
       else if (method == "snappy")
 	return SNAPPY;
       else if (method == "stub")
 	return COMP_STUB;
-      else if (method == "stub-v2")
-	return COMP_STUBv2;
       else
 	return NONE;
     }
