From c315e8b8071a182e9ecb0ed645fda0a9d4257fb5 Mon Sep 17 00:00:00 2001
From: Tobias Doerffel <tobias.doerffel@gmail.com>
Date: Wed, 3 Aug 2011 22:40:52 +0200
Subject: [PATCH] ICA/DemoServer: do not call QTcpSocket::flush()

As the iTALC 1 DemoServer server is event loop based there's no need
to call QTcpSocket::flush() as this will be done automatically later.
Seems to improve reliability a bit.
---
 ica/src/DemoServer.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ica/src/DemoServer.cpp b/ica/src/DemoServer.cpp
index 102e9af34..0483967a9 100644
--- a/ica/src/DemoServer.cpp
+++ b/ica/src/DemoServer.cpp
@@ -104,7 +104,7 @@ static qint64 qtcpsocketDispatcher( char * buffer, const qint64 bytes,
 					opStartTime.restart();
 				}
 			}
-			sock->flush();
+			//sock->flush();
 			break;
 
 		case SocketGetPeerAddress:
