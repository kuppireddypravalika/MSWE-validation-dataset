From 4ec022a9186d55359ad4b4356ba3f55e1328bf3b Mon Sep 17 00:00:00 2001
From: Peter Caspers <peter.caspers@acadia.inc>
Date: Fri, 12 Aug 2022 21:45:55 +0200
Subject: [PATCH] QPR-11130 faster comparison to empty string

---
 OREAnalytics/orea/engine/valuationengine.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/OREAnalytics/orea/engine/valuationengine.cpp b/OREAnalytics/orea/engine/valuationengine.cpp
index e74590d6b6..b7db7cfd72 100644
--- a/OREAnalytics/orea/engine/valuationengine.cpp
+++ b/OREAnalytics/orea/engine/valuationengine.cpp
@@ -115,7 +115,7 @@ void ValuationEngine::buildCube(const boost::shared_ptr<data::Portfolio>& portfo
     Size numFRC = 0;
     // initialise state objects for each trade (required for path-dependent derivatives in particular)
     for (Size i = 0; i < trades.size(); i++) {
-        QL_REQUIRE(trades[i]->npvCurrency() != "", "NPV currency not set for trade " << trades[i]->id());
+        QL_REQUIRE(!trades[i]->npvCurrency().empty(), "NPV currency not set for trade " << trades[i]->id());
 
         DLOG("Initialise wrapper for trade " << trades[i]->id());
         trades[i]->instrument()->initialise(dates);
