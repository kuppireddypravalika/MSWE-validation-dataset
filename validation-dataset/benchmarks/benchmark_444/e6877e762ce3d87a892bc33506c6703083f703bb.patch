From e6877e762ce3d87a892bc33506c6703083f703bb Mon Sep 17 00:00:00 2001
From: Kevin Leo <kevin.kevinleo@gmail.com>
Date: Wed, 27 Jan 2016 14:19:51 +1100
Subject: [PATCH] CompilePass: Moved call to MIPdomains to before optimize call

---
 passes/compile_pass.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/passes/compile_pass.cpp b/passes/compile_pass.cpp
index 4329f09da..7e35a147f 100644
--- a/passes/compile_pass.cpp
+++ b/passes/compile_pass.cpp
@@ -161,9 +161,9 @@ namespace MiniZinc {
     }
 
     flatten(*new_env, fopts);
+    MIPdomains(*new_env, fopts.verbose);
     optimize(*new_env);
     oldflatzinc(*new_env);
-    MIPdomains(*new_env, fopts.verbose);
 
     if(fopts.verbose)
       std::cerr << " done (" << stoptime(lasttime) << ")" << std::endl;
