From 52d0e68aca5a54d18173e088fbd7d10a68a63daf Mon Sep 17 00:00:00 2001
From: Marcos Bento <Marcos.Bento@ecmwf.int>
Date: Fri, 8 Sep 2023 17:06:31 +0100
Subject: [PATCH] ecflow_http: avoid unnecessary copy of expression parts

---
 Http/src/TypeToJson.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Http/src/TypeToJson.cpp b/Http/src/TypeToJson.cpp
index 1ca5ec556..b07201790 100644
--- a/Http/src/TypeToJson.cpp
+++ b/Http/src/TypeToJson.cpp
@@ -228,7 +228,7 @@ void to_json(json& j, const Expression* a) {
 }
 
 void to_json(json& j, const Expression& a) {
-    const std::vector<PartExpression> exprs = a.expr();
+    const std::vector<PartExpression>& exprs = a.expr();
     std::vector<json> str;
 
     for (const auto& expr : exprs) {
