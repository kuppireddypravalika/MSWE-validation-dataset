From b115843da95a61e1293dfbde4f6d602ba2c68c50 Mon Sep 17 00:00:00 2001
From: tteuling <tteuling@users.sourceforge.net>
Date: Wed, 30 May 2012 17:57:12 +0200
Subject: [PATCH] Improved performance in Qt backend (thanks to Niels
 Werensteijn).

---
 libosmscout-map-qt/src/osmscout/MapPainterQt.cpp | 10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

diff --git a/libosmscout-map-qt/src/osmscout/MapPainterQt.cpp b/libosmscout-map-qt/src/osmscout/MapPainterQt.cpp
index b3ecf73c1..3f5e964e1 100644
--- a/libosmscout-map-qt/src/osmscout/MapPainterQt.cpp
+++ b/libosmscout-map-qt/src/osmscout/MapPainterQt.cpp
@@ -443,13 +443,9 @@ namespace osmscout {
 
     QPainterPath p;
 
-    for (size_t i=transStart; i<=transEnd; i++) {
-      if (i==transStart) {
-        p.moveTo(transBuffer.buffer[i].x,transBuffer.buffer[i].y);
-      }
-      else {
-        p.lineTo(transBuffer.buffer[i].x,transBuffer.buffer[i].y);
-      }
+    p.moveTo(transBuffer.buffer[transStart].x,transBuffer.buffer[transStart].y);
+    for (size_t i=transStart+1; i<=transEnd; i++) {
+      p.lineTo(transBuffer.buffer[i].x,transBuffer.buffer[i].y);
     }
 
     painter->strokePath(p,pen);
