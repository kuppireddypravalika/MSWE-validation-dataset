From 22fdc8818a770693f3ceb66e827ec490459f421f Mon Sep 17 00:00:00 2001
From: Daniel Stevens <Dan.R.Stevens@gmail.com>
Date: Mon, 6 Jul 2020 15:09:56 -0600
Subject: [PATCH] Use packed parameters in MapViewState::setMinimapView()

---
 OPHD/States/MapViewState.cpp | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/OPHD/States/MapViewState.cpp b/OPHD/States/MapViewState.cpp
index 776849005..7f741637f 100644
--- a/OPHD/States/MapViewState.cpp
+++ b/OPHD/States/MapViewState.cpp
@@ -682,10 +682,10 @@ void MapViewState::changeViewDepth(int depth)
  */
 void MapViewState::setMinimapView()
 {
-	int x = MOUSE_COORDS.x() - mMiniMapBoundingBox.x() - mTileMap->edgeLength() / 2;
-	int y = MOUSE_COORDS.y() - mMiniMapBoundingBox.y() - mTileMap->edgeLength() / 2;
+	const auto viewSizeInTiles = NAS2D::Vector{mTileMap->edgeLength(), mTileMap->edgeLength()};
+	const auto position = NAS2D::Point{0, 0} + (MOUSE_COORDS - mMiniMapBoundingBox.startPoint()) - viewSizeInTiles / 2;
 
-	mTileMap->mapViewLocation({x, y});
+	mTileMap->mapViewLocation(position);
 }
 
 
