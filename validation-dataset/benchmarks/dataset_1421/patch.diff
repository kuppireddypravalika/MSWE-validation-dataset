From d682b7dcd27cf6198c184f7ad69045c625fff5e5 Mon Sep 17 00:00:00 2001
From: Avi Bahra <Avi.Bahra@ecmwf.int>
Date: Fri, 5 Oct 2018 10:44:39 +0100
Subject: [PATCH] ECFLOW-1317 minimize latency

Former-commit-id: e8aba5a7cf00028584b57a4b897b8195deee3d43
---
 Base/src/stc/GroupSTCCmd.cpp | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/Base/src/stc/GroupSTCCmd.cpp b/Base/src/stc/GroupSTCCmd.cpp
index fe0b464b0..f4fbb8869 100644
--- a/Base/src/stc/GroupSTCCmd.cpp
+++ b/Base/src/stc/GroupSTCCmd.cpp
@@ -59,7 +59,10 @@ bool GroupSTCCmd::handle_server_response( ServerReply& server_reply, Cmd_ptr cts
 	BOOST_FOREACH(STC_Cmd_ptr subCmd, cmdVec_) {
 		if (!subCmd->handle_server_response(server_reply, cts_cmd, debug)) ret_flag = false; // one of the commands failed
   	}
+	if (!server_reply.cli()) return ret_flag;
 
+
+	/// CLI called from the command line.
 	/// This assumes the DefsCmd::handle_server_response() | SNodeCmd::handle_server_response has been called
 	/// this will populate ServerReply with the defs/node returned from the server
    defs_ptr defs = server_reply.client_defs();
