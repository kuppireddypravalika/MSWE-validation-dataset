From 62f86e2078325f2fcfd9cb85e604f94b628a871e Mon Sep 17 00:00:00 2001
From: Ilya Orlov <eagleivg@mail.ru>
Date: Thu, 25 Oct 2018 00:33:06 +0400
Subject: [PATCH] xrUICore: fix windows build

---
 src/xrUICore/XML/UITextureMaster.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/xrUICore/XML/UITextureMaster.cpp b/src/xrUICore/XML/UITextureMaster.cpp
index efffb63dd72..837cef0635e 100644
--- a/src/xrUICore/XML/UITextureMaster.cpp
+++ b/src/xrUICore/XML/UITextureMaster.cpp
@@ -55,8 +55,10 @@ void CUITextureMaster::ParseShTexInfo(pcstr path, pcstr xml_file)
             /* avo: fix issue when values were not updated (silently skipped) when same key is encountered more than once. This is how std::map is designed. 
             /* Also used more efficient C++11 std::map::emplace method instead of outdated std::pair::make_pair */
             /* XXX: avo: note that xxx.insert(mk_pair(v1,v2)) pattern is used extensively throughout solution so there is a good potential for other bug fixes/improvements */
+#ifdef LINUX
             static std::mutex new_texture_mutex;
             std::scoped_lock new_texture_lock (new_texture_mutex);
+#endif
             if (m_textures.find(id) == m_textures.end())
                 m_textures.emplace(id, info);
             else
